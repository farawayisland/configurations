# ~/.config/zsh/functions/interactive/c_compile_and_run

# Dependencies
## gcc | https://formulae.brew.sh/formula/gcc

# Definition
file_c_object_or_source="$1"

dir_root="${file_c_object_or_source:h}"
file_stem="${file_c_object_or_source:t:r}"
file_c_executable="$dir_root/$file_stem-c-executable"

gcc-15 "${GCC_OPTS_C[@]}" \
       -o "$file_c_executable" \
       "${@:2}" \
       "$file_c_object_or_source"

print -P "%F{green}"
"$file_c_executable"
printf "\n"
